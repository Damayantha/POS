{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/POSbyCirvex/website/src/lib/firebase.ts"],"sourcesContent":["\r\nimport { initializeApp, getApps, getApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAkdYjpY1uGnAxxh51XKERU7po_zOIPFwU\",\r\n    authDomain: \"posbycirvex.firebaseapp.com\",\r\n    projectId: \"posbycirvex\",\r\n    storageBucket: \"posbycirvex.firebasestorage.app\",\r\n    messagingSenderId: \"704117283422\",\r\n    appId: \"1:704117283422:web:a0309586f2a34daef472cf\",\r\n    measurementId: \"G-8QY3VX10LB\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\nexport { app, auth, db };\r\n"],"names":[],"mappings":";;;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACnB;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAC,IAAA,sLAAO,IAAG,MAAM,GAAG,IAAA,4LAAa,EAAC,kBAAkB,IAAA,qLAAM;AACtE,MAAM,OAAO,IAAA,wLAAO,EAAC;AACrB,MAAM,KAAK,IAAA,4LAAY,EAAC"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/POSbyCirvex/website/src/app/dashboard/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { auth, db } from '@/lib/firebase'\r\nimport { onAuthStateChanged, signOut } from 'firebase/auth'\r\nimport { doc, getDoc } from 'firebase/firestore'\r\nimport { Loader2, LogOut, CreditCard, ShieldCheck, User, Terminal, CheckCircle, Mail, Hash } from 'lucide-react'\r\n\r\ninterface UserData {\r\n    email: string\r\n    plan: 'free' | 'pro' | 'enterprise'\r\n    subscriptionStatus: string\r\n    createdAt: any\r\n    businessName?: string\r\n}\r\n\r\nexport default function Dashboard() {\r\n    const [user, setUser] = useState<any>(null)\r\n    const [userData, setUserData] = useState<UserData | null>(null)\r\n    const [loading, setLoading] = useState(true)\r\n    const router = useRouter()\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\r\n            if (!currentUser) {\r\n                router.push('/login')\r\n                return\r\n            }\r\n            setUser(currentUser)\r\n\r\n            // Fetch user data\r\n            try {\r\n                const docRef = doc(db, \"users\", currentUser.uid)\r\n                const docSnap = await getDoc(docRef)\r\n                if (docSnap.exists()) {\r\n                    setUserData(docSnap.data() as UserData)\r\n                }\r\n            } catch (err) {\r\n                console.error(\"Error fetching user data:\", err)\r\n            } finally {\r\n                setLoading(false)\r\n            }\r\n        })\r\n        return () => unsubscribe()\r\n    }, [router])\r\n\r\n    const handleLogout = async () => {\r\n        await signOut(auth)\r\n        router.push('/')\r\n    }\r\n\r\n    const handleManageSubscription = () => {\r\n        alert(\"Redirecting to Lemon Squeezy Customer Portal... (Integration Placeholder)\")\r\n    }\r\n\r\n    const getPlanFeatures = (plan: string = 'free') => {\r\n        const features = {\r\n            'free': [\"1 Register\", \"100 Products\", \"Basic Reporting\", \"Email Support\"],\r\n            'pro': [\"3 Registers\", \"Unlimited Products\", \"Advanced Analytics\", \"Priority Support\"],\r\n            'enterprise': [\"Unlimited Registers\", \"Multi-store Sync\", \"API Access\", \"Dedicated Account Manager\"]\r\n        }\r\n        return features[plan as keyof typeof features] || features['free']\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-background flex items-center justify-center text-white\">\r\n                <Loader2 className=\"animate-spin w-8 h-8\" />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-background text-foreground flex flex-col\">\r\n            {/* Header */}\r\n            <nav className=\"border-b border-white/10 glass sticky top-0 z-50\">\r\n                <div className=\"container mx-auto px-6 h-16 flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-primary-foreground\">\r\n                            <Terminal size={18} />\r\n                        </div>\r\n                        <span className=\"font-bold text-lg hidden md:block\">POS Dashboard</span>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <span className=\"text-sm text-muted-foreground hidden sm:block\">{user?.email}</span>\r\n                        <button\r\n                            onClick={handleLogout}\r\n                            className=\"text-sm flex items-center gap-2 bg-white/5 hover:bg-white/10 px-3 py-1.5 rounded-full transition-colors border border-white/5\"\r\n                        >\r\n                            <LogOut size={16} />\r\n                            <span className=\"hidden sm:inline\">Sign Out</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n\r\n            <main className=\"flex-1 container mx-auto px-6 py-8 md:py-12\">\r\n                <div className=\"max-w-5xl mx-auto space-y-8\">\r\n\r\n                    {/* Welcome Section */}\r\n                    <div>\r\n                        <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">\r\n                            Welcome back\r\n                            {userData?.businessName && <span className=\"text-accent\">, {userData.businessName}</span>}\r\n                        </h1>\r\n                        <p className=\"text-muted-foreground text-lg\">Manage your commercial license and billing.</p>\r\n                    </div>\r\n\r\n                    <div className=\"grid md:grid-cols-2 gap-6 lg:gap-8\">\r\n                        {/* Plan Card */}\r\n                        <div className=\"glass p-6 md:p-8 rounded-2xl border border-white/10 relative overflow-hidden flex flex-col h-full\">\r\n                            <div className=\"absolute top-0 right-0 p-32 bg-accent/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none\" />\r\n\r\n                            <div className=\"flex items-center justify-between mb-8 relative z-10\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-10 h-10 bg-accent/20 rounded-xl flex items-center justify-center text-accent\">\r\n                                        <ShieldCheck size={20} />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"text-lg font-bold leading-tight\">Current Plan</h3>\r\n                                        <p className=\"text-xs text-accent uppercase tracking-wide font-bold\">{userData?.plan || 'Free'}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"px-3 py-1 bg-green-500/10 text-green-400 text-xs font-bold rounded-full border border-green-500/20 uppercase tracking-wider flex items-center gap-1.5\">\r\n                                    <div className=\"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse\" />\r\n                                    {userData?.subscriptionStatus || 'Active'}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-4 mb-8 flex-1 relative z-10\">\r\n                                <div className=\"text-sm text-muted-foreground mb-4\">Plan Features:</div>\r\n                                {getPlanFeatures(userData?.plan).map((feature, i) => (\r\n                                    <div key={i} className=\"flex items-center gap-3 text-sm group\">\r\n                                        <CheckCircle className=\"w-4 h-4 text-zinc-600 group-hover:text-accent transition-colors\" />\r\n                                        <span className=\"text-zinc-300\">{feature}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={handleManageSubscription}\r\n                                className=\"w-full py-3 bg-white text-black font-bold rounded-lg hover:bg-zinc-200 transition-colors flex items-center justify-center gap-2 cursor-pointer relative z-10\"\r\n                            >\r\n                                <CreditCard size={18} /> Manage Subscription\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Profile Card */}\r\n                        <div className=\"glass p-6 md:p-8 rounded-2xl border border-white/10 h-full\">\r\n                            <div className=\"flex items-center gap-3 mb-8\">\r\n                                <div className=\"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center text-white\">\r\n                                    <User size={20} />\r\n                                </div>\r\n                                <h3 className=\"text-lg font-bold\">Profile Details</h3>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-6\">\r\n                                <div>\r\n                                    <label className=\"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2\">Email Address</label>\r\n                                    <div className=\"bg-black/40 border border-white/5 rounded-lg p-3 flex items-center gap-3 text-white\">\r\n                                        <Mail size={16} className=\"text-zinc-500\" />\r\n                                        {user?.email}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2\">License ID</label>\r\n                                    <div className=\"bg-black/40 border border-white/5 rounded-lg p-3 flex items-center gap-3 text-zinc-400 font-mono text-xs overflow-hidden\">\r\n                                        <Hash size={16} className=\"text-zinc-500 shrink-0\" />\r\n                                        <span className=\"truncate\">{user?.uid}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"pt-4 border-t border-white/5\">\r\n                                    <div className=\"flex justify-between text-sm py-2\">\r\n                                        <span className=\"text-muted-foreground\">Member Since</span>\r\n                                        <span className=\"text-white font-medium\">\r\n                                            {userData?.createdAt ? new Date(userData.createdAt.seconds * 1000).toLocaleDateString(undefined, { dateStyle: 'long' }) : 'Today'}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}